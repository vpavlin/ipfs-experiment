/*! For license information please see 835.30dec0e7.chunk.js.LICENSE.txt */
(self.webpackChunkipfs_webui=self.webpackChunkipfs_webui||[]).push([[835],{93835:function(e,t,n){"use strict";n.r(t),n.d(t,{SettingsPage:function(){return Jt},SettingsPageContainer:function(){return Xt},TranslatedSettingsPage:function(){return en},default:function(){return tn}});var r=n(72791),a=n(18970),o=n(218),i=n(30606),c=n(86489),l=n(14964),s=n(64746),u=n(32224),f=n(70814),p=n(59356),m=n(84855),d=n(53350),h=n(61455),y=n(73788),g=n(75283),v=function(e){if(!e)return"Unknown";var t=(0,g.Z)({i18n:h.Z,localeCode:e,languages:y});return y[t].nativeName},b=n(52030),E=n(52558),w=n(26330),S=["t","tReady","onLeave","link","className","isIpfsDesktop","doDesktopUpdateLanguage"];function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=function(e){var t=e.t,n=(e.tReady,e.onLeave),a=(e.link,e.className),o=e.isIpfsDesktop,i=e.doDesktopUpdateLanguage,c=N(e,S);return r.createElement(E.u_,O({},c,{className:a,onCancel:n,style:{maxWidth:"40em"}}),r.createElement(E.fe,{Icon:w.Z},r.createElement("p",{className:"charcoal w-80 center"},t("languageModal.description")),r.createElement("div",{className:"pa2 flex flex-wrap"},h.H.map((function(e){return r.createElement("button",{key:"lang-".concat(e.locale),className:"pa2 w-33 flex nowrap bg-transparent bn outline-0 blue justify-center e2e-languageModal-lang e2e-languageModal-lang_".concat(e.locale),onClick:function(){return function(e){h.Z.changeLanguage(e),o&&i(e),n()}(e.locale)}},e.nativeName)}))),r.createElement("p",{className:"lh-copy charcoal f6"},t("languageModal.translationProjectIntro"),r.createElement("br",null),r.createElement("a",{href:"https://www.transifex.com/ipfs/public/",rel:"noopener noreferrer",target:"_blank",className:"link blue"},t("languageModal.translationProjectLink")))),r.createElement(E.nK,{justify:"center"},r.createElement(d.Z,{className:"ma2 tc",bg:"bg-gray",onClick:n},t("app:actions.close"))))};k.defaultProps={className:""};var j=(0,o.$)("selectIsIpfsDesktop","doDesktopUpdateLanguage",k);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var a=A(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===x(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}(this,n)}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function R(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var M=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(i,e);var t,n,a,o=L(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(_(e=o.call.apply(o,[this].concat(n))),"state",{isLanguageModalOpen:!1}),R(_(e),"onLanguageEditOpen",(function(){return e.setState({isLanguageModalOpen:!0})})),R(_(e),"onLanguageEditClose",(function(){return e.setState({isLanguageModalOpen:!1})})),e}return t=i,(n=[{key:"render",value:function(){var e=this.props.t;return r.createElement(r.Fragment,null,r.createElement("div",{className:"flex"},r.createElement("div",{className:"pr4 flex items-center lh-copy charcoal f5 fw5 e2e-languageSelector-current",style:{height:40}},v(h.Z.language)),r.createElement(d.Z,{className:"tc e2e-languageSelector-changeBtn",bg:"bg-teal",minWidth:100,onClick:this.onLanguageEditOpen},e("app:actions.change"))),r.createElement(b.Z,{show:this.state.isLanguageModalOpen,onLeave:this.onLanguageEditClose},r.createElement(j,{className:"outline-0 e2e-languageModal",onLeave:this.onLanguageEditClose,t:e})))}}])&&P(t.prototype,n),a&&P(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),T=M,Z=n(75382),K=n(22956),D=n(81694),U=n.n(D),F=n(87705);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}var B=["t","onLeave","onSuccess","className","service","tReady","doAddPinningService","nickname","apiEndpoint","visitServiceUrl","secretApiKey","complianceReportUrl"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function q(){q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(j([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==G(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:m,configurable:!0}),m.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function $(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function H(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var V=function(e){var t=e.t,n=e.onLeave,a=e.onSuccess,o=e.className,c=e.service,l=(e.tReady,e.doAddPinningService),s=e.nickname,u=e.apiEndpoint,f=e.visitServiceUrl,p=(e.secretApiKey,e.complianceReportUrl),m=H(e,B),h=(0,F.cI)({defaultValues:{nickname:s,apiEndpoint:u,secretApiKey:null}}),y=h.register,g=h.errors,v=h.clearErrors,b=h.setError,w=h.handleSubmit,S="w-100 lh-copy f5 ph2 pv1 input-reset ba b--black-20 br1 focus-outline",O=function(){var e,t=(e=q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:a(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),b("apiValidation",{type:"manual",message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){$(o,r,a,i,c,"next",e)}function c(e){$(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return r.createElement(E.u_,z({},m,{className:o,onCancel:n,style:{maxWidth:"34em"}}),r.createElement("form",{onSubmit:w(O),onChange:function(){v("apiValidation")}},r.createElement(E.fe,null,r.createElement("p",null,t("pinningServiceModal.title")),p&&r.createElement("a",{className:"mb1 tl f7 charcoal-muted no-underline underline-hover",target:"_blank",rel:"noreferrer",href:p},t("pinningServiceModal.complianceLabel",{nickname:s})),r.createElement("div",{className:"pa2 pinningManagerServiceModalContainer"},c.icon&&c.name&&r.createElement(r.Fragment,null,r.createElement("label",null,t("pinningServiceModal.service")),r.createElement("div",{className:"flex w-100 items-center"},r.createElement("img",{className:"mr3",src:c.icon,alt:c.name,height:42,style:{objectFit:"contain"}}),r.createElement("span",null,c.name))),r.createElement("label",{htmlFor:"cm-nickname"},t("pinningServiceModal.nickname")),r.createElement("div",{className:"relative"},r.createElement("input",{id:"cm-nickname",name:"nickname",ref:y({required:!0}),type:"text",className:U()(S,g.nickname?"bg-red white":"charcoal"),placeholder:t("pinningServiceModal.nicknamePlaceholder")}),g.nickname&&r.createElement(W,{text:t("errors.nickname")})),r.createElement("label",{htmlFor:"cm-apiEndpoint"},t("pinningServiceModal.apiEndpoint")),r.createElement("div",{className:"relative"},r.createElement("input",{id:"cm-apiEndpoint",name:"apiEndpoint",ref:y({required:!0,pattern:"http(s){0,1}://.*"}),type:"url",className:U()(S,g.apiEndpoint?"bg-red white":"charcoal"),placeholder:t("pinningServiceModal.apiEndpointPlaceholder")}),g.apiEndpoint&&r.createElement(W,{text:"".concat(t("errors.apiError"),": ").concat(t("errors.apiEndpoint"))})),r.createElement("label",{htmlFor:"cm-secretApiKey"},t("pinningServiceModal.secretApiKey"),c.icon&&c.name&&f&&r.createElement("a",{className:"f7 link pv0 lh-copy dib",href:f,rel:"noopener noreferrer",target:"_blank"}," ",t("pinningServiceModal.secretApiKeyHowToLink"))),r.createElement("div",{className:"relative"},r.createElement("input",{id:"cm-secretApiKey",ref:y({required:!0}),name:"secretApiKey",type:"password",autoComplete:"off",className:U()(S,g.secretApiKey?"bg-red white":"charcoal"),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),g.secretApiKey&&r.createElement(W,{text:t("errors.secretApiKey")}))),r.createElement("div",null,g.apiValidation&&r.createElement("p",{className:"red f5 ttc"},g.apiValidation.message)),r.createElement("p",{className:"f6"},r.createElement(i.c,{i18nKey:"pinningServiceModal.description",t:t},"Want to make your custom pinning service available to others?",r.createElement("a",{href:"https://docs.ipfs.io/how-to/work-with-pinning-services/",rel:"noopener noreferrer",target:"_blank",className:"pv0 dib link",type:"link"},"Learn how.")))),r.createElement(E.nK,{justify:"center",className:"flex flex-row-reverse"},r.createElement(d.Z,{className:"ma2 tc",type:"submit"},t("actions.save")),r.createElement(d.Z,{className:"ma2 tc",bg:"bg-gray",onClick:n},t("actions.cancel")))))};V.defaultProps={className:"",nickname:null,apiEndpoint:null};var W=function(e){var t=e.text;return r.createElement("p",{className:"red absolute f7",style:{top:26,left:2}},t)},J=(0,o.$)("doAddPinningService",(0,c.Z)("settings")(V)),Y=["t","tReady","onLeave","className","remoteServiceTemplates","pinningServicesDefaults"];function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ne=function(e){var t=e.t,n=(e.tReady,e.onLeave),a=e.className,o=e.remoteServiceTemplates,c=e.pinningServicesDefaults,l=te(e,Y),s=X((0,r.useState)(!1),2),u=s[0],f=s[1],p=function(){return f(!1)},m=c[u.name]||{};return r.createElement(E.u_,Q({},l,{className:a,onCancel:n,style:{maxWidth:"34em"}}),r.createElement(E.fe,null,r.createElement("p",null,t("pinningModal.title")),r.createElement("div",{className:"pa2 pinningManagerModalContainer"},o.map((function(e){var t=e.icon,n=e.name;return r.createElement("button",{className:"flex items-center pinningManagerModalItem pa1 hoverable-button",key:n,onClick:function(){return f({name:n,icon:t})}},r.createElement("img",{className:"mr3",src:t,alt:n,width:42,height:42,style:{objectFit:"contain"}}),r.createElement("p",null,n))}))),r.createElement("p",{className:"flex items-center justify-center"},r.createElement(i.c,{i18nKey:"pinningModal.description",t:t},"Don\u2019t see your pinning service provider? ",r.createElement(d.Z,{className:"pv0",type:"link",onClick:function(){return f({type:"CUSTOM"})}},"Add a custom one.")))),r.createElement(E.nK,{justify:"center"},r.createElement(d.Z,{className:"ma2 tc",bg:"bg-gray",onClick:n},t("actions.cancel"))),r.createElement(b.Z,{show:!!u,onLeave:p,hidden:!0},r.createElement(J,{className:"outline-0",service:u,onSuccess:function(){f(!1),n()},onLeave:p,nickname:m.nickname,apiEndpoint:m.apiEndpoint,visitServiceUrl:m.visitServiceUrl,complianceReportUrl:m.complianceReportUrl,t:t})))};ne.defaultProps={className:""};var re=(0,o.$)("selectRemoteServiceTemplates","selectPinningServicesDefaults",(0,c.Z)("settings")(ne)),ae=["name","service","t","onLeave","doSetAutoUploadForService","className"];function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var ce=function(e){var t=e.name,n=e.service,a=e.t,o=e.onLeave,i=e.doSetAutoUploadForService,c=e.className,l=ie(e,ae);return r.createElement(E.u_,oe({},l,{className:c,onCancel:o,style:{maxWidth:"34em"}}),r.createElement(E.fe,null,r.createElement("p",null,a("autoUploadModal.title",{name:t})),r.createElement("div",{className:"pa2 AutoUploadModalContainer"},a("autoUploadModal.description"))),r.createElement(E.nK,{justify:"center"},r.createElement(d.Z,{className:"ma2 tc",bg:"bg-teal",onClick:function(){i(t),o()}},n.autoUpload?a("actions.disable"):a("actions.enable")),r.createElement(d.Z,{className:"ma2 tc",bg:"bg-gray",onClick:o},a("actions.cancel"))))};ce.defaultProps={className:""};var le=(0,o.$)("doSetAutoUploadForService",(0,c.Z)("settings")(ce)),se=n(99283),ue=n(19624),fe=n(54164);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var de=function(e){var t=e.id,n=e.children,a=e.zIndex,o=(0,r.useRef)(document.getElementById(t)||document.createElement("div")),i=pe((0,r.useState)(!o.current.parentElement),1)[0];return(0,r.useEffect)((function(){return i&&(o.current.id=t,a&&(o.current.style.zIndex=a),document.body.appendChild(o.current)),function(){i&&o.current.parentElement&&o.current.parentElement.removeChild(o.current)}}),[i,t,a]),(0,fe.createPortal)(n,o.current)},he=(0,r.memo)(de);function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ye(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=function(e){var t=e.className,n=e.children,a=e.target,o=e.visible,i=e.arrowAlign,c=e.arrowMarginRight,l=e.onDismiss,s=(0,r.useRef)(),u=Ee((0,r.useState)({}),2),f=u[0],p=u[1];if((0,r.useLayoutEffect)((function(){var e=function(){if(null!==a&&void 0!==a&&a.current){var e=a.current.getBoundingClientRect(),t=e.top,n=e.left,r=e.width,o=e.height;p({top:t,left:n,width:r,height:o})}};e();var t=window.addEventListener("scroll",(function(){requestAnimationFrame((function(){return e()}))}));return function(){return window.removeEventListener("scroll",t)}}),[a,o]),(0,r.useEffect)((function(){if(null!==a&&void 0!==a&&a.current){var e=a.current.querySelector('[role="menuitem"]');e&&e.focus()}}),[a,o]),!o||!a||!a.current)return null;var m=Oe(i,ve(ve({},f),{},{arrowMarginRight:c}));return r.createElement(he,{id:"portal-dropdown"},r.createElement("div",{className:U()("absolute",t),style:{top:f.top,left:f.left}},r.createElement(ue.h,{open:o,className:"sans-serif br2 charcoal",boxShadow:"rgba(105, 196, 205, 0.5) 0px 1px 10px 0px",width:"auto",arrowAlign:i||"center",arrowMarginRight:"".concat(c,"px"),top:f.height,left:-f.width-m,translateX:-f.width,onDismiss:l},r.createElement("div",{className:"flex flex-column pa2",ref:s,role:"menu"},n))))};Se.defaultProps={arrowMarginRight:13};var Oe=function(e,t){var n=t.width,r=t.arrowMarginRight;return"right"===e?n+2*r:0},Ne=Se,ke=["className","children"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Pe=function(e){var t=e.className,n=e.children,a=xe(e,ke);return r.createElement("button",je({className:U()(t,"flex items-center nowrap"),role:"menuitem"},a),n)},Ce=n(49185);function Le(){return Le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}var _e=function(e){return r.createElement("svg",Le({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),r.createElement("path",{d:"M52 18.81A31.19 31.19 0 1083.19 50 31.22 31.22 0 0052 18.81zm0 59.78A28.59 28.59 0 1180.59 50 28.63 28.63 0 0152 78.59z"}),r.createElement("path",{d:"M66.33 40.3a.75.75 0 00-.22-.53l-3.88-3.88a.74.74 0 00-1.06 0L52 45.06l-9.17-9.17a.74.74 0 00-1.06 0l-3.88 3.88a.75.75 0 000 1.06L47.06 50l-9.17 9.17a.75.75 0 000 1.06l3.88 3.88a.74.74 0 001.06 0L52 54.94l9.17 9.17a.74.74 0 00.53.22.73.73 0 00.53-.22l3.88-3.88a.75.75 0 000-1.06L56.94 50l9.17-9.17a.75.75 0 00.22-.53zm-11 9.17a.75.75 0 000 1.06l9.17 9.17-2.8 2.82-9.17-9.17a.75.75 0 00-1.06 0l-9.17 9.17-2.82-2.82 9.17-9.17a.75.75 0 000-1.06l-9.17-9.17 2.82-2.82 9.17 9.17a.75.75 0 001.06 0l9.17-9.17 2.82 2.82z"}))};function Ae(){return Ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)}var Re=function(e){return r.createElement("svg",Ae({viewBox:"0 0 100 100"},e),r.createElement("path",{d:"M75.4 49.9c-.9 0-1.6.7-1.6 1.6v21.8c0 1.5-.6 2.9-1.7 4s-2.5 1.7-4 1.7h-40c-1.5 0-2.9-.6-4-1.7s-1.7-2.5-1.7-4v-40c0-1.5.6-2.9 1.7-4s2.5-1.7 4-1.7h21.8c.9 0 1.6-.7 1.6-1.6s-.7-1.6-1.6-1.6H28.1c-2.4 0-4.6.9-6.3 2.6-1.7 1.7-2.6 3.9-2.6 6.3v40c0 2.4.9 4.6 2.6 6.3 1.7 1.7 3.9 2.6 6.3 2.6h40c2.4 0 4.6-.9 6.3-2.6 1.7-1.7 2.6-3.9 2.6-6.3V51.5c0-.9-.7-1.6-1.6-1.6z"}),r.createElement("path",{d:"M83.8 19.3V19v-.2-.2c0-.1-.1-.1-.1-.2 0 0 0-.1-.1-.1-.1-.1-.1-.2-.2-.2l-.2-.2s-.1 0-.1-.1l-.1-.1c-.1 0-.1 0-.2-.1H60.3c-.9 0-1.6.7-1.6 1.6s.7 1.6 1.6 1.6h17.9l-25.8 26c-.6.6-.6 1.7 0 2.3.3.3.7.5 1.1.5s.8-.2 1.1-.5l25.8-25.8v17.9c0 .9.7 1.6 1.6 1.6s1.6-.7 1.6-1.6l.2-21.9z"}))};function Ie(){return Ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ie.apply(this,arguments)}var Me=function(e){return r.createElement("svg",Ie({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100"},e),r.createElement("path",{d:"M76.53 44.5a12.83 12.83 0 00-3.81.57 14.07 14.07 0 00-13.88-13.3 13.7 13.7 0 00-9.12 3.49 17 17 0 00-14.78-8.67A17.25 17.25 0 0018 42 14.84 14.84 0 006.33 56.6c0 13.89 11.56 16.81 13.84 16.81h56.2c5.21 0 12.47-7.37 12.47-14.62 0-7.03-4.61-14.29-12.31-14.29zm-.16 25.91H20.22c-.11 0-10.89-1.26-10.89-13.81a11.89 11.89 0 018-11.32C19.046 44.687 21 45 21 45v-2.25a14 14 0 0127-4.29l1 2.32 1.58-1.94a10.8 10.8 0 018.36-4 11.09 11.09 0 017.686 3.37c2.021 2.088 2.497 4.573 3.124 7.79.265 1.362.25 2 .4 3.53l1.73-.91a9.86 9.86 0 014.65-1.16c5.83 0 9.31 5.74 9.31 11.29 0 6.04-6.51 11.66-9.47 11.66z"}))};function Te(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){if(e){if("string"===typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ue=function(e){var t=e.pinningServices,n=e.ipfsReady,a=e.arePinningServicesSupported,o=e.doFetchPinningServices,i=e.doFetchPinningServicesStats,c=e.doFetchLocalPinsStats,l=e.doRemovePinningService,s=e.localPinsSize,u=e.localNumberOfPins,f=e.t,p=Ze((0,r.useState)(!1),2),m=p[0],h=p[1],y=Ze((0,r.useState)(!1),2),g=y[0],v=y[1],E=function(){return h(!1)},w=function(e){return v(e)},S=function(){return v(!1)},O=Ze((0,r.useState)({sortBy:"addedAt",sortDirection:Z.Sr.ASC}),2),N=O[0],k=O[1];(0,r.useEffect)((function(){n&&o()&&i()&&c()}),[n,o,i,c]);var j=(0,r.useMemo)((function(){return{name:f("localPinning"),type:"LOCAL",totalSize:s,numberOfPins:u}}),[u,s,f]),x=(0,r.useMemo)((function(){return(t||[]).sort((0,K.hr)(N.sortBy,N.sortDirection===Z.Sr.ASC?1:-1))}),[t,N.sortBy,N.sortDirection]),P=(0,r.useMemo)((function(){return[j].concat(Te(x))}),[j,x]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"mv4 pinningManager"},r.createElement("div",{className:"ph1 ph3-l flex items-center bg-white lh-copy charcoal f6 fw5"},r.createElement(Z.qj,{disableHeight:!0},(function(e){var t=e.width;return r.createElement(Z.iA,{className:"tl fw4 w-100 f6",headerClassName:"gray ttc fw4 f6 ph2",width:t,height:50*(P.length+1),headerHeight:32,rowHeight:50,rowCount:P.length,rowGetter:function(e){var t=e.index;return P[t]},rowClassName:"bb b--light-gray mt2",sort:function(){return k.apply(void 0,arguments)},sortBy:N.sortBy,sortDirection:N.sortDirection},r.createElement(Z.sg,{label:f("service"),title:f("service"),dataKey:"name",width:.4*t,flexShrink:0,flexGrow:1,cellRenderer:Ge,className:"charcoal truncate f6"}),r.createElement(Z.sg,{label:f("pins"),title:f("pins"),dataKey:"numberOfPins",width:.2*t,flexShrink:1,cellRenderer:function(e){var t=e.rowData;return r.createElement(Be,{rowData:t,t:f})},className:"charcoal truncate f6 pl2"}),r.createElement(Z.sg,{label:f("autoUpload"),title:f("autoUpload"),dataKey:"autoUpload",width:.2*t,flexShrink:1,cellRenderer:function(e){var t=e.rowData;return r.createElement(ze,{autoUpload:t.autoUpload,type:t.type,name:t.name,visitServiceUrl:t.visitServiceUrl,doRemovePinningService:l,t:f,onToggleModalOpen:w})},className:"pinningManagerColumn charcoal truncate f6 pl2"}))}))),a&&r.createElement("div",{className:"flex justify-end w-100 mt2"},r.createElement(d.Z,{className:"tc mt2",bg:"bg-navy",onClick:function(){return h(!0)}},r.createElement("span",null,r.createElement("span",{className:"aqua"},"+")," ",f("actions.addService"))))),r.createElement(b.Z,{show:g,onLeave:S},r.createElement(le,{className:"outline-0",onLeave:function(){S(),o(),i()},t:f,name:g,service:x.find((function(e){return e.name===g}))})),r.createElement(b.Z,{show:m,onLeave:E},r.createElement(re,{className:"outline-0",onLeave:function(){E(),o(),i()},t:f})))};Ue.defaultProps={pinningServices:[]};var Fe=function(e){var t=e.rowData,n=e.index,a=["aqua","link","yellow","teal","red","green","navy","gray","charcoal"],o="mr2 pr1 fill-".concat(a[n%a.length]," flex-shrink-0");return t.icon?r.createElement("img",{src:t.icon,alt:t.name,width:"28",height:"28",className:o,style:{objectFit:"contain"}}):r.createElement(se.Z,{width:"28",height:"28",className:o})},Ge=function(e){var t,n=e.rowData,a=e.rowIndex;return r.createElement("div",{className:"flex items-center",title:n.name},r.createElement(Fe,{rowData:n,index:a}),r.createElement("span",{className:(t=n,"LOCAL"===t.type||t.online?"truncate":"truncate red")},n.name))},Be=function(e){var t=e.rowData,n=e.t;return t.numberOfPins<0?r.createElement("div",{className:"red help",title:n("errors.failedToFetchTitle")},n("errors.failedToFetch")):r.createElement("div",{className:t.numberOfPins>=0?"":"gray"},t.numberOfPins>=0?t.numberOfPins:"".concat(n("app:terms:loading"),"..."))},ze=function(e){var t=e.autoUpload,n=e.visitServiceUrl,a=e.name,o=e.doRemovePinningService,i=e.t,c=e.type,l=e.onToggleModalOpen;return r.createElement("div",{className:"flex justify-between items-center"},r.createElement("div",{className:t?"":"gray"},"undefined"!==typeof t?i("autoUploadPolicy."+t):"-"),"LOCAL"!==c&&r.createElement(qe,{doRemovePinningService:o,name:a,t:i,onToggleModalOpen:l,autoUpload:t,visitServiceUrl:n}))},qe=function(e){var t=e.doRemovePinningService,n=e.name,a=e.visitServiceUrl,o=e.autoUpload,i=e.t,c=e.onToggleModalOpen,l=(0,r.useRef)(),s=Ze((0,r.useState)(!1),2),u=s[0],f=s[1],p=!n.includes(".");return r.createElement("div",null,r.createElement("button",{className:"button-inside-focus",onClick:function(){return f(!0)},ref:l,"aria-label":i("showOptions")},r.createElement(Ce.Z,{width:24,className:"fill-gray-muted hover-fill-gray transition-all"})),r.createElement(Ne,{className:"pv2 ph1",style:{zIndex:1001},visible:u,target:l,onDismiss:function(){return f(!1)},arrowAlign:"right"},p&&r.createElement(Pe,{className:"pv2 ph1",onClick:function(){return c(n)}},r.createElement(Me,{width:"28",className:"fill-aqua"})," ",r.createElement("span",{className:"ph1"},i(o?"pinningServices.removeAutoUpload":"pinningServices.addAutoUpload"))),a&&r.createElement("a",{className:"link flex items-center",href:a,target:"_blank",rel:"noopener noreferrer"},r.createElement(Pe,{className:"pv2 ph1",onClick:function(){return f(!1)}},r.createElement(Re,{width:"28",className:"fill-aqua"})," ",r.createElement("span",{className:"ph1 charcoal"},i("visitService")))),r.createElement(Pe,{className:"pv2 ph1",onClick:function(){t(n),f(!1)}},r.createElement(_e,{width:"28",className:"fill-aqua"})," ",r.createElement("span",{className:"ph1"},i("remove")))))},$e=(0,o.$)("selectIpfsReady","selectLocalPinsSize","selectLocalNumberOfPins","selectPinningServices","selectArePinningServicesSupported","doFetchPinningServices","doFetchPinningServicesStats","doFetchLocalPinsStats","doRemovePinningService",Ue),He=n(69632),Ve=["t","tReady","onCancel","onSubmit","className"];function We(){return We=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},We.apply(this,arguments)}function Je(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ye=function(e){var t=e.t,n=(e.tReady,e.onCancel),a=e.onSubmit,o=e.className,i=Je(e,Ve);return r.createElement(He.Z,We({onSubmit:function(e){return a(e.trim())},onChange:function(e){return e.trimStart()},onCancel:n,className:o,title:t("generateKeyModal.title"),description:t("generateKeyModal.description"),Icon:w.Z,submitText:t("app:actions.generate")},i))};Ye.defaultProps={className:""};var Qe=Ye,Xe=n(88556),et=["t","tReady","name","onCancel","onSubmit","className"];function tt(){return tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tt.apply(this,arguments)}function nt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rt=function(e){var t=e.t,n=(e.tReady,e.name),a=e.onCancel,o=e.onSubmit,c=e.className,l=nt(e,et);return r.createElement(He.Z,tt({onSubmit:function(e){return o(e.trim())},onChange:function(e){return e.trimStart()},onCancel:a,className:c,title:t("renameKeyModal.title"),description:r.createElement("div",{className:"charcoal w-90 center tl mb3"},r.createElement(i.c,{t:t,i18nKey:"renameKeyModal.description",tOptions:{name:n}},"Renaming IPNS key ",r.createElement("span",{className:"charcoal-muted monospace"},n),".")),Icon:Xe.Z,defaultValue:n,mustBeDifferent:!0,submitText:t("app:actions.rename")},l))};rt.defaultProps={className:""};var at=rt,ot=n(99658),it=["t","tReady","name","onCancel","onRemove","className"];function ct(){return ct=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}function lt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var st=function(e){var t=e.t,n=(e.tReady,e.name),a=e.onCancel,o=e.onRemove,c=e.className,l=lt(e,it);return r.createElement(E.u_,ct({},l,{className:c,onCancel:a}),r.createElement(E.fe,{title:t("removeKeyModal.title"),Icon:ot.Z},r.createElement("div",{className:"charcoal w-100 center tl"},r.createElement(i.c,{t:t,i18nKey:"removeKeyModal.description",tOptions:{name:n}},"Are you sure you want to delete the IPNS key ",r.createElement("span",{className:"charcoal-muted monospace"},n),"?"))),r.createElement(E.nK,null,r.createElement(d.Z,{className:"ma2 tc",bg:"bg-gray",onClick:a},t("app:actions.cancel")),r.createElement(d.Z,{className:"ma2 tc",bg:"bg-red",onClick:o},t("app:actions.remove"))))};st.defaultProps={className:""};var ut=st;function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt=function(e){var t=e.t,n=e.name,a=e.showRenameKeyModal,o=e.showRemoveKeyModal;return r.createElement("div",{className:"flex justify-end"},"self"!==n&&r.createElement(dt,{name:n,t:t,showRenameKeyModal:a,showRemoveKeyModal:o}))},dt=function(e){var t=e.t,n=e.name,a=e.showRenameKeyModal,o=e.showRemoveKeyModal,i=(0,r.useRef)(),c=ft((0,r.useState)(!1),2),l=c[0],s=c[1],u=function(e){return function(){e(n),s(!1)}};return r.createElement("div",null,r.createElement("button",{className:"button-inside-focus",onClick:function(){return s(!0)},ref:i,"aria-label":t("showOptions")},r.createElement(Ce.Z,{width:24,className:"fill-gray-muted hover-fill-gray transition-all"})),r.createElement(Ne,{className:"pv2 ph1",style:{zIndex:1001},visible:l,target:i,onDismiss:function(){return s(!1)},arrowAlign:"right"},r.createElement(Pe,{className:"pv2 ph1",onClick:u(a)},r.createElement(Xe.Z,{width:"28",className:"fill-aqua"})," ",r.createElement("span",{className:"ph1"},t("app:actions.rename"))),r.createElement(Pe,{className:"pv2 ph1",onClick:u(o)},r.createElement(_e,{width:"28",className:"fill-aqua"})," ",r.createElement("span",{className:"ph1"},t("app:actions.remove")))))},ht=function(e){var t=e.t,n=e.ipfsReady,a=e.doFetchIpnsKeys,o=e.doGenerateIpnsKey,i=e.doRenameIpnsKey,c=e.doRemoveIpnsKey,l=e.availableGateway,s=e.ipnsKeys,u=ft((0,r.useState)(!1),2),f=u[0],p=u[1],m=function(){return p(!1)},h=ft((0,r.useState)(""),2),y=h[0],g=h[1],v=function(e){return g(e)},E=function(){return g("")},w=ft((0,r.useState)(""),2),S=w[0],O=w[1],N=function(e){return O(e)},k=function(){return O("")};(0,r.useEffect)((function(){n&&a()}),[n,a]);var j=ft((0,r.useState)({sortBy:"name",sortDirection:Z.Sr.ASC}),2),x=j[0],P=j[1],C=(0,r.useMemo)((function(){return(s||[]).sort((0,K.hr)(x.sortBy,x.sortDirection===Z.Sr.ASC?1:-1))}),[s,x.sortBy,x.sortDirection]);return r.createElement(r.Fragment,null,r.createElement("div",{className:"mv4 pinningManager"},r.createElement("div",{className:"ph1 ph3-l flex items-center bg-white lh-copy charcoal f6 fw5"},r.createElement(Z.qj,{disableHeight:!0},(function(e){var n=e.width;return r.createElement(Z.iA,{className:"tl fw4 w-100 f6",headerClassName:"gray ttc fw4 f6 ph2",width:n,height:50*(C.length+1),headerHeight:32,rowHeight:50,rowCount:C.length,rowGetter:function(e){var t=e.index;return C[t]},rowClassName:"bb b--light-gray mt2",sort:function(){return P.apply(void 0,arguments)},sortBy:x.sortBy,sortDirection:x.sortDirection},r.createElement(Z.sg,{label:t("app:terms.name"),title:t("app:terms.name"),dataKey:"name",width:.3*n,flexShrink:0,flexGrow:1,cellRenderer:function(e){return e.rowData.name},className:"charcoal truncate f6"}),r.createElement(Z.sg,{label:t("app:terms.id"),title:t("app:terms.id"),dataKey:"id",width:.6*n,className:"charcoal monospace truncate f6 pl2",flexShrink:1,cellRenderer:function(e){var t=e.rowData;return t.published?r.createElement("a",{href:"".concat(l,"/ipns/").concat(t.id),target:"_blank",rel:"noopener noreferrer",className:"link blue"},t.id):t.id}}),r.createElement(Z.sg,{dataKey:"options",width:.1*n,flexShrink:1,cellRenderer:function(e){var n=e.rowData;return r.createElement(mt,{t:t,name:n.name,showRenameKeyModal:v,showRemoveKeyModal:N})},className:"pinningManagerColumn charcoal truncate f6 pl2"}))}))),r.createElement("div",{className:"flex justify-end w-100 mt2"},r.createElement(d.Z,{className:"tc mt2",bg:"bg-navy",onClick:function(){return p(!0)}},r.createElement("span",null,r.createElement("span",{className:"aqua"},"+")," ",t("actions.generateKey"))))),r.createElement(b.Z,{show:f,onLeave:m},r.createElement(Qe,{className:"outline-0",onSubmit:function(e){o(e),m()},onCancel:m,t:t})),r.createElement(b.Z,{show:""!==y,onLeave:E},r.createElement(at,{className:"outline-0",name:y,onSubmit:function(e){i(y,e),E()},onCancel:E,t:t})),r.createElement(b.Z,{show:""!==S,onLeave:k},r.createElement(ut,{className:"outline-0",name:S,onRemove:function(e){c(S),k()},onCancel:k,t:t})))};ht.defaultProps={ipnsKeys:[]};var yt=(0,o.$)("selectIpfsReady","selectIpnsKeys","selectAvailableGateway","doFetchIpnsKeys","doGenerateIpnsKey","doRemoveIpnsKey","doRenameIpnsKey",ht),gt=n(43697),vt=n(94030),bt=n(72672);function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function wt(){wt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(P){l=function(e,t,n){return e[t]=n}}function s(e,t,n,a){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),c=new k(a||[]);return r(i,"_invoke",{value:w(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=s;var f={};function p(){}function m(){}function d(){}var h={};l(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(j([])));g&&g!==t&&n.call(g,o)&&(h=g);var v=d.prototype=p.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(r,o,i,c){var l=u(e[r],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Et(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=d,r(v,"constructor",{value:d,configurable:!0}),r(d,"constructor",{value:m,configurable:!0}),m.displayName=l(d,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(s(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,c,"Generator"),l(v,o,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function St(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(s){return void n(s)}c.done?t(l):Promise.resolve(l).then(r,a)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){St(o,r,a,i,c,"next",e)}function c(e){St(o,r,a,i,c,"throw",e)}i(void 0)}))}}function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,c=[],l=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(u){s=!0,a=u}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jt=(0,o.$)("doUpdatePublicGateway","selectPublicGateway",(0,c.Z)("app")((function(e){var t=e.t,n=e.doUpdatePublicGateway,a=e.publicGateway,o=Nt((0,r.useState)(a),2),i=o[0],c=o[1],l=!(0,bt.Rf)(i),s=Nt((0,r.useState)(l),2),u=s[0],f=s[1],p=Nt((0,r.useState)(l),2),m=p[0],h=p[1];(0,r.useEffect)((function(){f(!m)}),[m]),(0,r.useEffect)((function(){var e=(0,bt.Rf)(i);h(e),f(!e)}),[i]);var y=function(){var e=Ot(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,(0,bt.Dp)(i);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),f(!0),e.abrupt("return");case 10:n(i);case 11:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Ot(wt().mark((function e(t){return wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(bt.KG),n(bt.KG);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.createElement("form",{onSubmit:y},r.createElement("input",{id:"public-gateway","aria-label":t("terms.publicGateway"),placeholder:t("publicGatewayForm.placeholder"),type:"text",className:"w-100 lh-copy monospace f5 pl1 pv1 mb2 charcoal input-reset ba b--black-20 br1 ".concat(u?"focus-outline-red b--red-muted":"focus-outline-green b--green-muted"),onChange:function(e){return c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&y(e)},value:i}),r.createElement("div",{className:"tr"},r.createElement(d.Z,{minWidth:100,height:40,bg:"bg-charcoal",className:"tc",disabled:i===bt.KG,onClick:g},t("app:actions.reset")),r.createElement(d.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",disabled:!m||i===a},t("actions.submit"))))}))),xt=n(38399);n(83004),n(70119);function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lt(r.key),r)}}function Lt(e){var t=function(e,t){if("object"!==Pt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Pt(t)?t:String(t)}function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_t(e,t)}function At(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var a=Rt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Pt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Rt(e){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rt(e)}var It=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_t(e,t)}(i,e);var t,n,a,o=At(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.value,n=e.readOnly,a=e.onChange,o=Math.max(500,16*t.split("\n").length);return r.createElement("div",{className:"pv3 bg-navy br2"},r.createElement(xt.ZP,{value:t,readOnly:n,onChange:a,mode:"json",theme:"ipfs_dark",width:"100%",height:o+"px",fontSize:12,showPrintMargin:!1,showGutter:!0,editorProps:{$blockScrolling:1/0},setOptions:{showLineNumbers:!0,tabSize:2}}))}}])&&Ct(t.prototype,n),a&&Ct(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),Mt=n(14849),Tt=n(17457),Zt=(0,o.$)("selectExperiments","doExpToggleAction",(function(e){var t=e.doExpToggleAction,n=e.experiments,a=e.t;if(n&&n.length>0){var o=function(e,t){return a("Experiments.".concat(t?"".concat(t,".").concat(e):"".concat(e)))};return r.createElement(m.Z,{className:"mb3 pa4 lh-copy"},r.createElement(Tt.Z,null,a("experiments")),r.createElement("p",{className:"db mv4 f6 charcoal mw7"},o("description")),r.createElement("div",{className:"flex flex-wrap pb3"},n.map((function(e){var n=e.key,a=e.actionUrls,i=e.enabled,c=e.blocked;return r.createElement("div",{key:n,className:"pa3 mr3 mb3 mw6 br3 bg-white dib f6 ba b1 b--light-gray"},r.createElement("h3",null,o("title",n)),r.createElement("p",{className:"charcoal"},o("description",n)),r.createElement(Mt.Z,{className:"dib",disabled:c,onChange:function(){return t(n,i)},checked:i,label:r.createElement("span",{className:"fw5 f6"},o("label",n))}),a&&r.createElement("div",{className:"mv3"},a.map((function(e,t){return r.createElement("a",{target:"_blank",rel:"noopener noreferrer",key:e.key,className:"link blue pr2 ".concat(t>0&&"bl b1 pl2 b--light-gray"),href:e.url},o(e.key))}))))}))))}return null})),Kt=n(59249),Dt=n(11848),Ut=n(61535),Ft=n(34585);function Gt(e){return Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gt(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wt(r.key),r)}}function zt(e,t){return zt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zt(e,t)}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ht(e);if(t){var a=Ht(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Gt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}(this,n)}}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return Ht=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ht(e)}function Vt(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){var t=function(e,t){if("object"!==Gt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gt(t)?t:String(t)}var Jt=function(e){var t=e.t,n=e.tReady,o=e.isIpfsConnected,c=e.ipfsPendingFirstConnection,u=e.isIpfsDesktop,p=e.isLoading,h=e.isSaving,y=e.arePinningServicesSupported,g=e.hasSaveFailed,v=e.hasSaveSucceded,b=e.hasErrors,E=e.hasLocalChanges,w=e.hasExternalChanges,S=e.config,O=e.onChange,N=e.onReset,k=e.onSave,j=e.editorKey,x=e.analyticsEnabled,P=e.doToggleAnalytics,C=e.toursEnabled,L=e.handleJoyrideCallback,_=e.isCliTutorModeEnabled,A=e.doToggleCliTutorMode,R=e.command;return r.createElement("div",{"data-id":"SettingsPage",className:"mw9 center"},r.createElement(a.ql,null,r.createElement("title",null,t("title")," | IPFS")),c?r.createElement("div",{className:"absolute flex items-center justify-center w-100 h-100",style:{background:"rgba(255, 255, 255, 0.5)",zIndex:"10"}},r.createElement(Dt.Z,null)):null,u?null:r.createElement(m.Z,{className:"mb3 pa4-l pa2 joyride-settings-customapi"},r.createElement("div",{className:"lh-copy charcoal"},r.createElement(Tt.Z,null,t("app:terms.apiAddress")),r.createElement(i.c,{i18nKey:"apiDescription",t:t},r.createElement("p",null,"If your node is configured with a ",r.createElement("a",{className:"link blue",href:"https://github.com/ipfs/kubo/blob/master/docs/config.md#addresses",target:"_blank",rel:"noopener noreferrer"},"custom API address"),", including a port other than the default 5001, enter it here.")),r.createElement(vt.Z,null))),r.createElement(m.Z,{className:"mb3 pa4-l pa2"},r.createElement("div",{className:"lh-copy charcoal"},r.createElement(Tt.Z,null,t("app:terms.publicGateway")),r.createElement(i.c,{i18nKey:"publicGatewayDescription",t:t},r.createElement("p",null,"Choose which ",r.createElement("a",{className:"link blue",href:"http://docs.ipfs.io/concepts/ipfs-gateway/#public-gateways",target:"_blank",rel:"noopener noreferrer"},"public gateway")," you want to use to open your files.")),r.createElement(jt,null))),r.createElement(m.Z,{className:"mb3 pa4-l pa2"},r.createElement(Tt.Z,null,t("ipnsPublishingKeys.title")),r.createElement("p",{className:"ma0 mr2 lh-copy charcoal f6"},t("ipnsPublishingKeys.description"),"\xa0",r.createElement("a",{className:"link blue",target:"_blank",rel:"noopener noreferrer",href:"https://docs.ipfs.io/concepts/glossary/#ipns"},t("learnMoreLink"))),r.createElement(yt,{t:t})),r.createElement(m.Z,{className:"mb3 pa4-l pa2 joyride-settings-pinning"},r.createElement(Tt.Z,null,t("pinningServices.title")),r.createElement("p",{className:"ma0 mr2 lh-copy charcoal f6"},t(y?"pinningServices.description":"pinningServices.noPinRemoteDescription"),"\xa0",r.createElement("a",{className:"link blue",target:"_blank",rel:"noopener noreferrer",href:"https://docs.ipfs.io/how-to/work-with-pinning-services/"},t("learnMoreLink"))),r.createElement($e,{t:t})),r.createElement(m.Z,{className:"mb3 pa4-l pa2"},r.createElement("div",{className:"mb4 joyride-settings-language"},r.createElement(Tt.Z,null,t("language")),r.createElement(T,{t:t})),r.createElement("div",{className:"joyride-settings-analytics"},r.createElement(Tt.Z,null,t("analytics")),r.createElement(gt.Z,{t:t,doToggleAnalytics:P,analyticsEnabled:x}))),r.createElement(Zt,{t:t}),r.createElement(m.Z,{className:"mb3 pa4-l pa2 joyride-settings-tutormode"},r.createElement("div",{className:"charcoal"},r.createElement(Tt.Z,null,t("cliTutorMode")),r.createElement(Mt.Z,{className:"dib",onChange:A,checked:_,label:r.createElement("span",{className:"f5 lh-copy"},t("cliToggle.label"))}),r.createElement(i.c,{i18nKey:"cliDescription",t:t},r.createElement("p",{className:"f6 mv2"},'Enable this option to display a "view code" ',r.createElement(Ut.Z,{className:"dib v-mid icon mh1 fill-charcoal",viewBox:"14 20 70 66",style:{height:24}})," icon next to common IPFS commands. Clicking it opens a modal with that command's CLI code, so you can paste it into the IPFS command-line interface in your terminal.")))),o&&r.createElement(m.Z,{className:"mb3 pa4-l pa2"},r.createElement("div",{className:"joyride-settings-config"},r.createElement(Tt.Z,null,t("config")),r.createElement("div",{className:"flex pb3"},r.createElement("div",{className:"flex-auto"},r.createElement("div",{className:"mw7"},r.createElement(Qt,{t:t,tReady:n,config:S,isIpfsConnected:o,isLoading:p,hasExternalChanges:w,hasSaveFailed:g,hasSaveSucceded:v}))),S?r.createElement("div",{className:"flex flex-column justify-center flex-row-l items-center-l"},r.createElement(Kt.Z,{showIcon:!0,config:S,t:t,command:R}),r.createElement(d.Z,{minWidth:100,height:40,bg:"bg-charcoal",className:"tc",disabled:h||!E&&!w,onClick:N},t("app:actions.reset")),r.createElement(Yt,{t:t,tReady:n,hasErrors:b,hasSaveFailed:g,hasSaveSucceded:v,hasLocalChanges:E,hasExternalChanges:w,isSaving:h,onClick:k})):null)),S?r.createElement(It,{value:S,onChange:O,readOnly:h,key:j}):null),r.createElement(l.ZP,{run:C,steps:s.Qu.getSteps({t:t,Trans:i.c}),styles:s.Qu.styles,callback:L,continuous:!0,scrollToFirstStep:!0,locale:(0,f._)(t),showProgress:!0}))},Yt=function(e){var t=e.t,n=e.hasErrors,a=e.hasSaveFailed,o=e.hasSaveSucceded,i=e.isSaving,c=e.hasLocalChanges,l=e.hasExternalChanges,s=e.onClick,u=o?"bg-green":"bg-teal";return r.createElement(d.Z,{minWidth:100,height:40,className:"mt2 mt0-l ml2-l tc",bg:u,disabled:!c||n,danger:a||l,onClick:s},o&&!a?r.createElement(p.Z,{height:16,className:"fill-snow",style:{transform:"scale(3)"}}):t(i?"app:actions.saving":"app:actions.save"))},Qt=function(e){var t=e.t,n=e.isIpfsConnected,a=e.hasExternalChanges,o=e.hasSaveFailed,c=e.hasSaveSucceded,l=e.isLoading,s=e.config;return n?s?a?r.createElement("p",{className:"ma0 lh-copy red f5 mw7"},r.createElement(i.c,{i18nKey:"settingsHaveChanged",t:t},"The settings have changed, please click ",r.createElement("strong",null,"Reset")," to update the editor contents")):o?r.createElement("p",{className:"ma0 lh-copy red fw6 f5 mw7"},t("errorOccured"),r.createElement("span",{className:"db fw4 f6 charcoal-muted"},t("checkConsole"))):c?r.createElement("p",{className:"ma0 lh-copy green fw6 f5 mw7"},t("changesSaved"),r.createElement("span",{className:"db fw4 f6 charcoal-muted"},t("settingsWillBeUsedNextTime"))):r.createElement("p",{className:"ma0 mr2 lh-copy charcoal f5"},t("ipfsConfigDescription")," ",r.createElement("a",{href:"https://github.com/ipfs/kubo/blob/master/docs/config.md",rel:"noopener noreferrer",target:"_blank",className:"link blue"},t("ipfsConfigHelp"))):r.createElement("p",{className:"ma0 lh-copy charcoal f5 mw7"},t(l?"fetchingSettings":"settingsUnavailable")):r.createElement("p",{className:"ma0 lh-copy charcoal f5 mw7"},t("ipfsDaemonOffline"))},Xt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zt(e,t)}(i,e);var t,n,a,o=qt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt($t(e=o.call.apply(o,[this].concat(n))),"state",{hasErrors:!1,hasLocalChanges:!1,hasExternalChanges:!1,editableConfig:e.props.config,editorKey:Date.now()}),Vt($t(e),"onChange",(function(t){e.setState({hasErrors:!e.isValidJson(t),hasLocalChanges:e.props.config!==t,editableConfig:t})})),Vt($t(e),"onReset",(function(){e.setState({hasErrors:!1,hasLocalChanges:!1,hasExternalChanges:!1,editableConfig:e.props.config,editorKey:Date.now()})})),Vt($t(e),"onSave",(function(){e.props.doSaveConfig(e.state.editableConfig)})),e}return t=i,(n=[{key:"isValidJson",value:function(e){try{return JSON.parse(e),!0}catch(t){return!1}}},{key:"isRecent",value:function(e){return e>Date.now()-3e3}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.configSaveLastSuccess!==e.configSaveLastSuccess&&setTimeout((function(){return t.onReset()}),3e3),e.config!==this.props.config){if(!e.config||this.isRecent(this.props.configSaveLastSuccess))return this.setState({editableConfig:this.props.config});if(this.props.config!==this.state.editableConfig)return this.setState({hasExternalChanges:!0})}}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.tReady,a=e.ipfsConnected,o=e.configIsLoading,i=e.configLastError,c=e.configIsSaving,l=e.arePinningServicesSupported,s=e.configSaveLastSuccess,u=e.configSaveLastError,f=e.isIpfsDesktop,p=e.analyticsEnabled,m=e.doToggleAnalytics,d=e.toursEnabled,h=e.handleJoyrideCallback,y=e.isCliTutorModeEnabled,g=e.doToggleCliTutorMode,v=e.ipfsPendingFirstConnection,b=this.state,E=b.hasErrors,w=b.hasLocalChanges,S=b.hasExternalChanges,O=b.editableConfig,N=b.editorKey,k=this.isRecent(s),j=this.isRecent(u),x=o||!O&&!i;return r.createElement(Jt,{t:t,tReady:n,isIpfsConnected:a,ipfsPendingFirstConnection:v,isLoading:x,isSaving:c,arePinningServicesSupported:l,hasSaveFailed:j,hasSaveSucceded:k,hasErrors:E,hasLocalChanges:w,hasExternalChanges:S,config:O,editorKey:N,onChange:this.onChange,onReset:this.onReset,onSave:this.onSave,isIpfsDesktop:f,analyticsEnabled:p,doToggleAnalytics:m,toursEnabled:d,handleJoyrideCallback:h,doToggleCliTutorMode:g,isCliTutorModeEnabled:y,command:Ft.UL[Ft.aD.UPDATE_IPFS_CONFIG]()})}}])&&Bt(t.prototype,n),a&&Bt(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(r.Component),en=(0,c.Z)("settings")(Xt),tn=(0,o.$)("selectConfig","selectIpfsConnected","selectIpfsPendingFirstConnection","selectConfigLastError","selectConfigIsLoading","selectConfigIsSaving","selectConfigSaveLastSuccess","selectConfigSaveLastError","selectIsIpfsDesktop","selectToursEnabled","selectAnalyticsEnabled","selectArePinningServicesSupported","doToggleAnalytics","doSaveConfig","selectIsCliTutorModeEnabled","doToggleCliTutorMode",(0,u.Z)(en))},70119:function(){ace.define("ace/theme/ipfs_dark",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-ipfs-dark",t.cssText="\n  .ace-ipfs-dark .ace_gutter {\n  background: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_print-margin {\n  width: 1px;\n  background: #69c4cd;\n  }\n  .ace-ipfs-dark {\n  background-color: #0b3a53;\n  color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_entity.ace_other.ace_attribute-name,\n  .ace-ipfs-dark .ace_storage {\n  color: #f7f8fa;\n  }\n  .ace-ipfs-dark .ace_rparen,\n  .ace-ipfs-dark .ace_lparen {\n    color: #9ad4db;\n  }\n  .ace-ipfs-dark .ace_cursor,\n  .ace-ipfs-dark .ace_string.ace_regexp {\n  color: #ea5037\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_active-line,\n  .ace-ipfs-dark .ace_marker-layer .ace_selection {\n  background: rgba(255, 255, 255, 0.1)\n  }\n  .ace-ipfs-dark.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #244e66;\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_gutter-active-line {\n  background-color: #244e66\n  }\n  .ace-ipfs-dark .ace_marker-layer .ace_selected-word {\n  border: 1px solid #244e66\n  }\n  .ace-ipfs-dark .ace_invisible {\n  color: rgba(147, 161, 161, 0.50)\n  }\n  .ace-ipfs-dark .ace_keyword,\n  .ace-ipfs-dark .ace_meta,\n  .ace-ipfs-dark .ace_support.ace_class,\n  .ace-ipfs-dark .ace_support.ace_type {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_constant.ace_character,\n  .ace-ipfs-dark .ace_constant.ace_other {\n  color: #f36149\n  }\n  .ace-ipfs-dark .ace_constant.ace_language {\n  color: #f9a13e\n  }\n  .ace-ipfs-dark .ace_constant.ace_numeric {\n  color: #f39021\n  }\n  .ace-ipfs-dark .ace_fold {\n  background-color: #69c4cd;\n  border-color: #93A1A1\n  }\n  .ace-ipfs-dark .ace_entity.ace_name.ace_function,\n  .ace-ipfs-dark .ace_entity.ace_name.ace_tag,\n  .ace-ipfs-dark .ace_support.ace_function,\n  .ace-ipfs-dark .ace_variable,\n  .ace-ipfs-dark .ace_variable.ace_language {\n  color: #edf0f4\n  }\n  .ace-ipfs-dark .ace_string {\n  color: #0aca9f\n  }\n  .ace-ipfs-dark .ace_comment {\n  font-style: italic;\n  color: #657B83\n  }\n  .ace-ipfs-dark .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNg0Db1ZVCxc/sPAAd4AlUHlLenAAAAAElFTkSuQmCC) right repeat-y\n  }",e("../lib/dom").importCssString(t.cssText,t.cssClass)}))}}]);
//# sourceMappingURL=835.30dec0e7.chunk.js.map